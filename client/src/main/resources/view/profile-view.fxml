<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<StackPane styleClass="profile-bg" stylesheets="@../styles.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.client.controller.ProfileController">

    <VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" spacing="15" styleClass="profile-card">

        <Label styleClass="profile-header-text" text="Há»“ sÆ¡ cÃ¡ nhÃ¢n" />

        <StackPane>
            <StackPane maxHeight="100" maxWidth="100" minHeight="100" minWidth="100" style="-fx-background-color: #e0e0e0; -fx-background-radius: 50%;">
                <ImageView fx:id="avatarView" fitHeight="100" fitWidth="100" pickOnBounds="true" preserveRatio="false">
                    <clip>
                        <Circle centerX="50" centerY="50" radius="50" />
                    </clip>
                </ImageView>
            </StackPane>

            <Button onAction="#handleChooseAvatar" styleClass="btn-camera-overlay" text="ðŸ“·" StackPane.alignment="BOTTOM_RIGHT">
                <StackPane.margin>
                    <Insets right="5" />
                </StackPane.margin>
                <tooltip><Tooltip text="Äá»•i áº£nh Ä‘áº¡i diá»‡n" /></tooltip>
            </Button>
            <VBox.margin>
                <Insets bottom="10.0" />
            </VBox.margin>
        </StackPane>

        <VBox spacing="10" alignment="CENTER_LEFT">
            <VBox spacing="2">
                <Label styleClass="section-label" text="TÃŠN HIá»‚N THá»Š" />
                <TextField fx:id="nameField" promptText="Nháº­p tÃªn cá»§a báº¡n" styleClass="modern-input" />
            </VBox>

            <VBox spacing="2">
                <Label styleClass="section-label" text="TRáº NG THÃI (BIO)" />
                <TextField fx:id="statusField" promptText="Báº¡n Ä‘ang nghÄ© gÃ¬?" styleClass="modern-input" />
            </VBox>

            <Button maxWidth="Infinity" onAction="#handleUpdateInfo" styleClass="btn-save" text="LÆ°u thay Ä‘á»•i">
                <VBox.margin>
                    <Insets top="5.0" />
                </VBox.margin></Button>
        </VBox>

        <Separator opacity="0.5">
            <VBox.margin>
                <Insets top="5.0" />
            </VBox.margin></Separator>

        <VBox spacing="10" alignment="CENTER_LEFT">
            <Label style="-fx-font-weight: bold; -fx-text-fill: #333;" text="Báº£o máº­t" />

            <HBox spacing="10">
                <PasswordField fx:id="oldPassField" promptText="Máº­t kháº©u cÅ©" styleClass="modern-input" HBox.hgrow="ALWAYS" />
                <PasswordField fx:id="newPassField" promptText="Máº­t kháº©u má»›i" styleClass="modern-input" HBox.hgrow="ALWAYS" />
            </HBox>

            <Button maxWidth="Infinity" onAction="#handleChangePass" styleClass="btn-outline-blue" text="Cáº­p nháº­t máº­t kháº©u" />
        </VBox>

    </VBox>
</StackPane>